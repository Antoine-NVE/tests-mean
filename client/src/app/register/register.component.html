<h1>Inscription</h1>

<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
        <label for="pseudo" class="form-label">Pseudo : </label>
        <input
            id="pseudo"
            type="text"
            class="form-control {{
                registerForm.get('pseudo')?.errors && (registerForm.get('pseudo')?.touched || registerForm.get('pseudo')?.dirty)
                    ? 'is-invalid'
                    : !registerForm.get('pseudo')?.errors && registerForm.get('pseudo')?.dirty
                    ? 'is-valid'
                    : ''
            }}"
            formControlName="pseudo"
        />
        <div *ngIf="registerForm.get('pseudo')?.errors?.['required']" class="invalid-feedback">Veuillez saisir votre pseudo</div>
        <div *ngIf="registerForm.get('pseudo')?.errors?.['minlength']" class="invalid-feedback">3 caractères minimum</div>
        <div *ngIf="registerForm.get('pseudo')?.errors?.['maxlength']" class="invalid-feedback">15 caractères maximum</div>
    </div>

    <div class="mb-3">
        <label for="email" class="form-label">Email : </label>
        <input id="email" type="email" class="form-control" formControlName="email" />
    </div>

    <div class="mb-3">
        <label for="plainPassword" class="form-label">Mot de passe : </label>
        <input id="plainPassword" type="password" class="form-control" formControlName="plainPassword" />
    </div>
    <button
        type="submit"
        class="btn btn-outline-light d-block ms-auto"
        [disabled]="registerForm.get('pseudo')?.errors || registerForm.get('email')?.errors || registerForm.get('plainPassword')?.errors"
    >
        S'inscrire
    </button>
</form>
